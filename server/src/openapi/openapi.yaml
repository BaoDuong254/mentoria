openapi: 3.0.0
info:
  title: Mentoria API
  description: |-
    This is the API documentation for the Mentoria platform - a mentorship platform connecting mentors and mentees.

  termsOfService: http://localhost:5173/terms/
  contact:
    email: duonggiabao254@gmail.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  version: 1.0.0
servers:
  - url: http://localhost:3000
    description: Development server
  - url: https://api.mentoria.com
    description: Production server
tags:
  - name: authentication
    description: User authentication and account management
  - name: oauth
    description: OAuth integration with third-party providers
  - name: mentor
    description: Mentor profile and mentorship services
  - name: mentee
    description: Mentee profile and mentorship management
  - name: user
    description: User profile and settings management
  - name: search
    description: Search functionality for mentors and content
  - name: catalog
    description: Category catalog and taxonomy management
  - name: slot
    description: Mentor availability slots management
  - name: payment
    description: Payment processing with Stripe integration
  - name: messages
    description: Real-time messaging between users with WebSocket integration
paths:
  # Authentication Endpoints
  /api/auth/register:
    $ref: "./paths/auth.yaml#/register"
  /api/auth/mentor-register:
    $ref: "./paths/auth.yaml#/mentor-register"
  /api/auth/verify-otp:
    $ref: "./paths/auth.yaml#/verify-otp"
  /api/auth/resend-otp:
    $ref: "./paths/auth.yaml#/resend-otp"
  /api/auth/login:
    $ref: "./paths/auth.yaml#/login"
  /api/auth/logout:
    $ref: "./paths/auth.yaml#/logout"
  /api/auth/forgot-password:
    $ref: "./paths/auth.yaml#/forgot-password"
  /api/auth/reset-password/{token}:
    $ref: "./paths/auth.yaml#/reset-password~1{token}"
  /api/auth/me:
    $ref: "./paths/auth.yaml#/me"
  /api/auth/google:
    $ref: "./paths/auth.yaml#/google"
  /api/auth/google/callback:
    $ref: "./paths/auth.yaml#/google~1callback"
  # Mentor Endpoints
  /api/mentors:
    $ref: "./paths/mentor.yaml#/mentorsList"
  /api/mentors/{mentorId}/stats:
    $ref: "./paths/mentor.yaml#/mentorStats"
  /api/mentors/{mentorId}:
    $ref: "./paths/mentor.yaml#/mentorProfile"
  # Mentee Endpoints
  /api/mentees:
    $ref: "./paths/mentee.yaml#/menteesList"
  /api/mentees/{menteeId}:
    $ref: "./paths/mentee.yaml#/mentee"
  # User Endpoints
  /api/users/avatar:
    $ref: "./paths/user.yaml#/avatar"
  /api/users/change-password:
    $ref: "./paths/user.yaml#/change-password"
  # Search Endpoints
  /api/search/mentors:
    $ref: "./paths/search.yaml#/searchMentors"
  /api/search/skills:
    $ref: "./paths/search.yaml#/searchSkills"
  /api/search/companies:
    $ref: "./paths/search.yaml#/searchCompanies"
  /api/search/jobtitles:
    $ref: "./paths/search.yaml#/searchJobTitles"
  # Catalog Endpoints
  /api/catalog/supercategories:
    $ref: "./paths/catalog.yaml#/supercategories"
  /api/catalog/skills:
    $ref: "./paths/catalog.yaml#/skills"
  /api/catalog/companies:
    $ref: "./paths/catalog.yaml#/companies"
  /api/catalog/jobtitles:
    $ref: "./paths/catalog.yaml#/jobtitles"
  /api/catalog/countries:
    $ref: "./paths/catalog.yaml#/countries"
  /api/catalog/languages:
    $ref: "./paths/catalog.yaml#/languages"
  # Filter Endpoints
  /api/filter/mentors:
    $ref: "./paths/filter.yaml#/filterMentors"
  # Slot Endpoints
  /api/slots/plans/{planId}:
    $ref: "./paths/slot.yaml#/slotsList"
  /api/slots/plans/{planId}/slot:
    $ref: "./paths/slot.yaml#/slotDetail"
  # Payment Endpoints
  /api/pay/checkout-session:
    $ref: "./paths/pay.yaml#/checkout-session"
  /api/pay/webhook:
    $ref: "./paths/pay.yaml#/webhook"
  # Messages Endpoints
  /api/messages/users:
    $ref: "./paths/message.yaml#/getUsersForSidebar"
  /api/messages/conversations:
    $ref: "./paths/message.yaml#/getConversations"
  /api/messages/{userId}:
    $ref: "./paths/message.yaml#/messagesByUserId"
  /api/messages:
    $ref: "./paths/message.yaml#/sendMessage"
components:
  schemas:
    $ref: "./schemas/_index.yaml"
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: token
      description: "JWT token obtained from login or OAuth. Token is automatically sent as HTTP-only cookie named 'token'."
