mentorsList:
  get:
    tags:
      - mentor
    summary: Get list of mentors
    description: Retrieve a paginated list of active mentor profiles.
    operationId: getMentorsList
    parameters:
      - name: page
        in: query
        required: false
        description: Page number (default 1)
        schema:
          type: integer
          minimum: 1
          example: 1
      - name: limit
        in: query
        required: false
        description: Number of items per page (default 10, max 100)
        schema:
          type: integer
          minimum: 1
          maximum: 100
          example: 10
    responses:
      "200":
        description: Mentors list retrieved successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "Mentors retrieved successfully"
                data:
                  $ref: "../schemas/mentor.yaml#/MentorsListResponse"
      "400":
        description: Invalid query parameters
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            examples:
              invalidPage:
                value:
                  success: false
                  message: "Invalid page number. Must be a positive integer."
              invalidLimit:
                value:
                  success: false
                  message: "Invalid limit. Must be between 1 and 100."
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"

mentorProfile:
  get:
    tags:
      - mentor
    summary: Get mentor profile
    description: Retrieve comprehensive profile information for a specific mentor including personal details, expertise, companies, languages, plans, and reviews.
    operationId: getMentorProfile
    parameters:
      - name: mentorId
        in: path
        required: true
        description: Unique identifier of the mentor
        schema:
          type: integer
          example: 1
    responses:
      "200":
        description: Mentor profile retrieved successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "Mentor profile retrieved successfully"
                data:
                  $ref: "../schemas/mentor.yaml#/MentorProfileResponse"
      "400":
        description: Invalid mentor ID format
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "Invalid mentor ID"
      "404":
        description: Mentor not found
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "Mentor not found"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
  put:
    tags:
      - mentor
    summary: Update mentor profile
    description: Update mentor profile information including personal details, bio, expertise, languages, and social links. Only the authenticated mentor can update their own profile.
    operationId: updateMentorProfile
    security:
      - cookieAuth: []
    parameters:
      - name: mentorId
        in: path
        required: true
        description: Unique identifier of the mentor
        schema:
          type: integer
          example: 1
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/mentor.yaml#/UpdateMentorProfileRequest"
    responses:
      "200":
        description: Mentor profile updated successfully
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/SuccessResponse"
            example:
              success: true
              message: "Mentor profile updated successfully"
      "400":
        description: Invalid mentor ID or validation errors
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            examples:
              invalidId:
                value:
                  success: false
                  message: "Invalid mentor ID"
              invalidSex:
                value:
                  success: false
                  message: "Invalid sex value. Must be 'Male' or 'Female'"
              invalidResponseTime:
                value:
                  success: false
                  message: "Response time must be a string"
      "401":
        description: Unauthorized - user not logged in
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
      "403":
        description: Forbidden - user not authorized to update this profile
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "You are not authorized to update this profile"
      "404":
        description: Mentor not found
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "Mentor not found"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"

mentorStats:
  get:
    tags:
      - mentor
    summary: Get mentor statistics
    description: Retrieve comprehensive statistics for a specific mentor including total unique mentees, total feedbacks, total stars, and average rating.
    operationId: getMentorStats
    parameters:
      - name: mentorId
        in: path
        required: true
        description: Unique identifier of the mentor
        schema:
          type: integer
          example: 1
    responses:
      "200":
        description: Mentor statistics retrieved successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "Mentor stats retrieved successfully"
                data:
                  $ref: "../schemas/mentor.yaml#/MentorStatsResponse"
            example:
              success: true
              message: "Mentor stats retrieved successfully"
              data:
                total_mentees: 25
                total_feedbacks: 15
                total_stars: 72
                average_rating: 4.8
      "400":
        description: Invalid mentor ID format
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "Invalid mentor ID"
      "404":
        description: Mentor not found
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "Mentor not found"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"

mentorPlans:
  get:
    tags:
      - mentor
    summary: Get all plans for a mentor
    description: Retrieve all mentorship plans (both session and mentorship types) offered by a specific mentor.
    operationId: getAllPlans
    parameters:
      - name: mentorId
        in: path
        required: true
        description: Unique identifier of the mentor
        schema:
          type: integer
          example: 1
    responses:
      "200":
        description: Plans retrieved successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "Plans retrieved successfully"
                data:
                  type: array
                  items:
                    oneOf:
                      - $ref: "../schemas/mentor.yaml#/PlanSessionResponse"
                      - $ref: "../schemas/mentor.yaml#/PlanMentorshipResponse"
            example:
              success: true
              message: "Plans retrieved successfully"
              data:
                - plan_id: 1
                  plan_description: "30-minute focused mentorship session"
                  plan_charge: 50.00
                  plan_type: "Beginner"
                  mentor_id: 1
                  sessions_duration: 30
                  plan_category: "session"
                - plan_id: 2
                  plan_description: "Monthly mentorship - 2 calls per month"
                  plan_charge: 199.00
                  plan_type: "Lite"
                  mentor_id: 1
                  calls_per_month: 2
                  minutes_per_call: 60
                  benefits:
                    - "2 calls per month (60min/call)"
                    - "Email support"
                    - "Career guidance"
                  plan_category: "mentorship"
      "400":
        description: Invalid mentor ID
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
      "404":
        description: Mentor not found
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
  post:
    tags:
      - mentor
    summary: Create a new plan
    description: Create a new mentorship plan (either session or mentorship type) for a mentor. Only the authenticated mentor can create plans for their own profile.
    operationId: createPlan
    security:
      - cookieAuth: []
    parameters:
      - name: mentorId
        in: path
        required: true
        description: Unique identifier of the mentor
        schema:
          type: integer
          example: 1
    requestBody:
      required: true
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "../schemas/mentor.yaml#/CreatePlanSessionRequest"
              - $ref: "../schemas/mentor.yaml#/CreatePlanMentorshipRequest"
          examples:
            sessionPlan:
              summary: Create a session plan
              value:
                planDescription: "45-minute career coaching session"
                planCharge: 75.00
                planType: "Beginner"
                sessionsDuration: 45
            mentorshipPlan:
              summary: Create a mentorship plan
              value:
                planDescription: "Standard mentorship - 4 calls per month"
                planCharge: 349.00
                planType: "Standard"
                callsPerMonth: 4
                minutesPerCall: 60
                benefits:
                  - "4 calls per month (60min/call)"
                  - "Unlimited chat support"
                  - "Code review"
                  - "Career guidance"
    responses:
      "201":
        description: Plan created successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "Plan created successfully"
                data:
                  type: object
                  properties:
                    planId:
                      type: integer
                      example: 15
      "400":
        description: Validation error or invalid request
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            examples:
              missingFields:
                value:
                  success: false
                  message: "Plan description, charge, and type are required"
              invalidCharge:
                value:
                  success: false
                  message: "Plan charge must be a positive number"
              invalidSessionDuration:
                value:
                  success: false
                  message: "Sessions duration must be between 1 and 120 minutes"
              missingPlanType:
                value:
                  success: false
                  message: "Either sessionsDuration or (callsPerMonth and minutesPerCall) must be provided"
      "401":
        description: Unauthorized - user not logged in
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
      "403":
        description: Forbidden - user not authorized to create plans for this mentor
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "You are not authorized to create plans for this mentor"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"

mentorPlanDetails:
  get:
    tags:
      - mentor
    summary: Get plan details
    description: Retrieve detailed information about a specific mentorship plan, including session duration or mentorship benefits.
    operationId: getPlanDetails
    parameters:
      - name: mentorId
        in: path
        required: true
        description: Unique identifier of the mentor
        schema:
          type: integer
          example: 1
      - name: planId
        in: path
        required: true
        description: Unique identifier of the plan
        schema:
          type: integer
          example: 5
    responses:
      "200":
        description: Plan details retrieved successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "Plan details retrieved successfully"
                data:
                  oneOf:
                    - $ref: "../schemas/mentor.yaml#/PlanSessionResponse"
                    - $ref: "../schemas/mentor.yaml#/PlanMentorshipResponse"
            examples:
              sessionPlan:
                value:
                  success: true
                  message: "Plan details retrieved successfully"
                  data:
                    plan_id: 1
                    plan_description: "1-hour deep-dive session"
                    plan_charge: 90.00
                    plan_type: "Introductory"
                    mentor_id: 1
                    sessions_duration: 60
                    plan_category: "session"
              mentorshipPlan:
                value:
                  success: true
                  message: "Plan details retrieved successfully"
                  data:
                    plan_id: 5
                    plan_description: "Premium mentorship package"
                    plan_charge: 699.00
                    plan_type: "Premium"
                    mentor_id: 1
                    calls_per_month: 8
                    minutes_per_call: 60
                    benefits:
                      - "8 calls per month (60min/call)"
                      - "Priority 24/7 chat support"
                      - "Code review"
                      - "Career guidance"
                      - "Interview preparation"
                    plan_category: "mentorship"
      "400":
        description: Invalid mentor ID or plan ID
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
      "404":
        description: Plan not found
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "Plan not found"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
  put:
    tags:
      - mentor
    summary: Update a plan
    description: Update an existing mentorship plan. Only the authenticated mentor can update their own plans. Supports partial updates.
    operationId: updatePlan
    security:
      - cookieAuth: []
    parameters:
      - name: mentorId
        in: path
        required: true
        description: Unique identifier of the mentor
        schema:
          type: integer
          example: 1
      - name: planId
        in: path
        required: true
        description: Unique identifier of the plan
        schema:
          type: integer
          example: 5
    requestBody:
      required: true
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "../schemas/mentor.yaml#/UpdatePlanSessionRequest"
              - $ref: "../schemas/mentor.yaml#/UpdatePlanMentorshipRequest"
          examples:
            updateSessionDuration:
              summary: Update session duration
              value:
                sessionsDuration: 90
            updatePrice:
              summary: Update plan charge
              value:
                planCharge: 120.00
            updateMentorshipBenefits:
              summary: Update mentorship benefits
              value:
                callsPerMonth: 6
                benefits:
                  - "6 calls per month (60min/call)"
                  - "Priority support"
                  - "Code review"
                  - "Career guidance"
                  - "Resume review"
    responses:
      "200":
        description: Plan updated successfully
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/SuccessResponse"
            example:
              success: true
              message: "Plan updated successfully"
      "400":
        description: Validation error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            examples:
              invalidCharge:
                value:
                  success: false
                  message: "Plan charge must be a positive number"
              invalidDuration:
                value:
                  success: false
                  message: "Sessions duration must be between 1 and 120 minutes"
      "401":
        description: Unauthorized - user not logged in
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
      "403":
        description: Forbidden - user not authorized to update this plan
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
      "404":
        description: Plan not found or doesn't belong to mentor
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "Plan not found or you don't have permission to update it"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
  delete:
    tags:
      - mentor
    summary: Delete a plan
    description: Delete a mentorship plan. Only the authenticated mentor can delete their own plans. Cannot delete plans with existing bookings or slots.
    operationId: deletePlan
    security:
      - cookieAuth: []
    parameters:
      - name: mentorId
        in: path
        required: true
        description: Unique identifier of the mentor
        schema:
          type: integer
          example: 1
      - name: planId
        in: path
        required: true
        description: Unique identifier of the plan
        schema:
          type: integer
          example: 5
    responses:
      "200":
        description: Plan deleted successfully
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/SuccessResponse"
            example:
              success: true
              message: "Plan deleted successfully"
      "400":
        description: Cannot delete plan with existing bookings or slots
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            examples:
              hasBookings:
                value:
                  success: false
                  message: "Cannot delete plan with existing bookings"
              hasSlots:
                value:
                  success: false
                  message: "Cannot delete plan with existing slots"
      "401":
        description: Unauthorized - user not logged in
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
      "403":
        description: Forbidden - user not authorized to delete this plan
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
      "404":
        description: Plan not found or doesn't belong to mentor
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
            example:
              success: false
              message: "Plan not found or you don't have permission to delete it"
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: "../schemas/auth.yaml#/ErrorResponse"
